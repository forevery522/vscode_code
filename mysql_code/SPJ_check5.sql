USE SPJ;

/* QUESTION 1 */
SELECT SNAME, CITY
FROM S;

/*QUESTION 2*/
SELECT PNAME, COLOR, PWEIGHT
FROM P;

/*QUESTION 3*/
SELECT JNO 
FROM SPJ
WHERE SNO = 'S1';

/*QUESTION 4*/
SELECT PNAME,  QTY
FROM P, SPJ
WHERE P.PNO = SPJ.PNO AND SPJ.JNO = 'J2';

/*QUESTION 5*/
SELECT DISTINCT PNO 
FROM S, SPJ
WHERE S.SNO = SPJ.SNO AND S.CITY = '上海';

/*QUESTION 6*/
SELECT DISTINCT JNAME
FROM J, SPJ, S
WHERE SPJ.SNO = S.SNO AND SPJ.JNO = J.JNO AND S.CITY = '上海';

/*QUESTION 7*/
SELECT JNO
FROM J
WHERE JNO NOT IN   
    (SELECT JNO
    FROM SPJ
    WHERE SNO IN
        (SELECT SNO
        FROM S
        WHERE CITY = '天津'));

-- /*QUESTION 8*/
UPDATE P
SET COLOR = '蓝'
WHERE COLOR = '红';
SELECT *
FROM P;

/*QUESTION 9*/
UPDATE SPJ
SET SNO = 'S3'
WHERE SNO = 'S5' AND PNO = 'P6' AND JNO = 'J4';
SELECT *
FROM SPJ;

/*QUESTION 10*/
DELETE
FROM S
WHERE SNO = 'S2';
DELETE
FROM SPJ
WHERE SNO = 'S2';
SELECT *
FROM S;
SELECT *
FROM SPJ;

/*QUESTION 11*/
INSERT
INTO SPJ
VALUES('S2', 'P6', 'P4', 200);